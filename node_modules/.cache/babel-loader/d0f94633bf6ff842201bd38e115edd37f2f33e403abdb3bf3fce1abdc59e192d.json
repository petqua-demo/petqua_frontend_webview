{"ast":null,"code":"import _regeneratorRuntime from\"/Users/iseung-won/Desktop/clone/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/iseung-won/Desktop/clone/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/iseung-won/Desktop/clone/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{CSSTransition,TransitionGroup}from'react-transition-group';import{useDispatch}from'react-redux';import'./Toast.scss';import{hideAll}from'../ToastAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ToastItem=function ToastItem(_ref){var payload=_ref.payload;var type=payload.type,message=payload.message,margin=payload.margin,_payload$duration=payload.duration,duration=_payload$duration===void 0?3500:_payload$duration,useCloseButton=payload.useCloseButton;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),mounted=_useState2[0],setMounted=_useState2[1];var dispatch=useDispatch();var toastMessage=function toastMessage(){var _message$data;if(typeof message==='string'){return message;}else if(message!==null&&message!==void 0&&(_message$data=message.data)!==null&&_message$data!==void 0&&_message$data.error){return message.data.error;}else if(message!==null&&message!==void 0&&message.error_msg){return message.error_msg;}else if(message!==null&&message!==void 0&&message.details){return message.details;}else if(typeof message==='object'){return message.toString();}return'Unknown Message';};var itemPosition={bottom:margin!==null&&margin!==void 0&&margin.bottom?\"\".concat(margin.bottom,\"px\"):null,top:margin!==null&&margin!==void 0&&margin.top?\"\".concat(margin.top,\"px\"):null,left:margin!==null&&margin!==void 0&&margin.left?\"\".concat(margin.left,\"px\"):null,right:margin!==null&&margin!==void 0&&margin.right?\"\".concat(margin.right,\"px\"):null};useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return openToast();case 2:case\"end\":return _context.stop();}},_callee);}))();},[]);function openToast(){return _openToast.apply(this,arguments);}function _openToast(){_openToast=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Promise.resolve();case 2:setMounted(true);case 3:case\"end\":return _context2.stop();}},_callee2);}));return _openToast.apply(this,arguments);}function closeToast(){setMounted(false);setTimeout(function(){dispatch(hideAll());},250);}function getTransitionName(){if(mounted){return'fadeIn-center';}return'fadeOut-center';}return/*#__PURE__*/_jsx(TransitionGroup,{className:\"transition-group\",children:/*#__PURE__*/_jsx(CSSTransition,{in:mounted,timeout:250,classNames:getTransitionName(),children:/*#__PURE__*/_jsx(\"li\",{className:\"toast-item \".concat(type),children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"toast-body\",children:message}),useCloseButton&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){closeToast();// Call hide toast function here\n// e.g., toastModule.hide(props.data);\n},children:\"\\uB2EB\\uAE30\"})]})})})});};export default ToastItem;","map":{"version":3,"names":["React","useEffect","useState","CSSTransition","TransitionGroup","useDispatch","hideAll","jsx","_jsx","jsxs","_jsxs","ToastItem","_ref","payload","type","message","margin","_payload$duration","duration","useCloseButton","_useState","_useState2","_slicedToArray","mounted","setMounted","dispatch","toastMessage","_message$data","data","error","error_msg","details","toString","itemPosition","bottom","concat","top","left","right","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","openToast","stop","_openToast","apply","arguments","_callee2","_callee2$","_context2","Promise","resolve","closeToast","setTimeout","getTransitionName","className","children","in","timeout","classNames","onClick"],"sources":["/Users/iseung-won/Desktop/clone/frontend/src/components/modules/toast/components/ToastItem.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { ToastType } from '../types';\nimport { useDispatch } from 'react-redux';\nimport './Toast.scss';\nimport { hideAll } from '../ToastAction';\n\nconst ToastItem = ({ payload }: any) => {\n  const { type, message, margin, duration = 3500, useCloseButton } = payload;\n  const [mounted, setMounted] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const toastMessage = () => {\n    if (typeof message === 'string') {\n      return message;\n    } else if (message?.data?.error) {\n      return message.data.error;\n    } else if (message?.error_msg) {\n      return message.error_msg;\n    } else if (message?.details) {\n      return message.details;\n    } else if (typeof message === 'object') {\n      return message.toString();\n    }\n    return 'Unknown Message';\n  };\n\n  const itemPosition = {\n    bottom: margin?.bottom ? `${margin.bottom}px` : null,\n    top: margin?.top ? `${margin.top}px` : null,\n    left: margin?.left ? `${margin.left}px` : null,\n    right: margin?.right ? `${margin.right}px` : null,\n  };\n\n  useEffect(() => {\n    (async () => {\n      await openToast();\n    })();\n  }, []);\n\n  async function openToast() {\n    await Promise.resolve();\n    setMounted(true);\n  }\n\n  function closeToast() {\n    setMounted(false);\n    setTimeout(() => {\n      dispatch(hideAll());\n    }, 250);\n  }\n\n  function getTransitionName() {\n    if (mounted) {\n      return 'fadeIn-center';\n    }\n    return 'fadeOut-center';\n  }\n\n  return (\n    <TransitionGroup className=\"transition-group\">\n      <CSSTransition in={mounted} timeout={250} classNames={getTransitionName()}>\n        <li className={`toast-item ${type}`}>\n          <div className=\"container\">\n            {/* For simplicity, I'm using a placeholder icon instead of SVG */}\n            <p className=\"toast-body\">{message}</p>\n            {useCloseButton && (\n              <button\n                onClick={() => {\n                  closeToast();\n                  // Call hide toast function here\n                  // e.g., toastModule.hide(props.data);\n                }}\n              >\n                닫기\n              </button>\n            )}\n          </div>\n        </li>\n      </CSSTransition>\n    </TransitionGroup>\n  );\n};\n\nexport default ToastItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}