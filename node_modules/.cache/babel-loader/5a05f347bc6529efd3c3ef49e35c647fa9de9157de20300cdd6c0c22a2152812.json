{"ast":null,"code":"import _regeneratorRuntime from\"/Users/iseung-won/Desktop/clone/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/iseung-won/Desktop/clone/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/iseung-won/Desktop/clone/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch}from'react-redux';import'./Toast.scss';import{hideAll}from'../ToastAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ToastItem=function ToastItem(_ref){var payload=_ref.payload;var type=payload.type,message=payload.message,margin=payload.margin,_payload$duration=payload.duration,duration=_payload$duration===void 0?3500:_payload$duration,useCloseButton=payload.useCloseButton,action=payload.action;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),mounted=_useState2[0],setMounted=_useState2[1];var dispatch=useDispatch();var itemPosition={bottom:margin!==null&&margin!==void 0&&margin.bottom?\"\".concat(margin.bottom,\"px\"):\"\",top:margin!==null&&margin!==void 0&&margin.top?\"\".concat(margin.top,\"px\"):\"\",left:margin!==null&&margin!==void 0&&margin.left?\"\".concat(margin.left,\"px\"):\"\",right:margin!==null&&margin!==void 0&&margin.right?\"\".concat(margin.right,\"px\"):\"\"};useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return openToast();case 2:setTimeout(function(){closeToast();},duration);case 3:case\"end\":return _context.stop();}},_callee);}))();},[duration]);function openToast(){return _openToast.apply(this,arguments);}function _openToast(){_openToast=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Promise.resolve();case 2:setMounted(true);case 3:case\"end\":return _context2.stop();}},_callee2);}));return _openToast.apply(this,arguments);}function closeToast(){setMounted(false);setTimeout(function(){dispatch(hideAll());},250);}function getTransitionName(){if(mounted){return'fadeIn';}return'fadeOut';}return/*#__PURE__*/_jsx(\"li\",{className:\"toast-item \".concat(type,\" \").concat(getTransitionName()),style:{marginBottom:margin===null||margin===void 0?void 0:margin.bottom,marginTop:margin===null||margin===void 0?void 0:margin.top,marginLeft:margin===null||margin===void 0?void 0:margin.left,marginRight:margin===null||margin===void 0?void 0:margin.right},children:/*#__PURE__*/_jsxs(\"div\",{className:\"toast-item-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"toast-body\",children:message}),useCloseButton&&action===null&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){closeToast();// Call hide toast function here\n// e.g., toastModule.hide(props.data);\n},children:\"\\uB2EB\\uAE30\"}),action!==null&&/*#__PURE__*/_jsx(\"button\",{style:{textDecoration:'underline'},onClick:function onClick(){action.action(action.data);closeToast();},children:action.text})]})});};export default ToastItem;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","hideAll","jsx","_jsx","jsxs","_jsxs","ToastItem","_ref","payload","type","message","margin","_payload$duration","duration","useCloseButton","action","_useState","_useState2","_slicedToArray","mounted","setMounted","dispatch","itemPosition","bottom","concat","top","left","right","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","openToast","setTimeout","closeToast","stop","_openToast","apply","arguments","_callee2","_callee2$","_context2","Promise","resolve","getTransitionName","className","style","marginBottom","marginTop","marginLeft","marginRight","children","onClick","textDecoration","data","text"],"sources":["/Users/iseung-won/Desktop/clone/frontend/src/components/modules/toast/components/ToastItem.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { useDispatch } from 'react-redux';\nimport './Toast.scss';\nimport { hideAll } from '../ToastAction';\n\nconst ToastItem = ({ payload }: any) => {\n  const { type, message, margin, duration = 3500, useCloseButton, action } = payload;\n  const [mounted, setMounted] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const itemPosition = {\n    bottom: margin?.bottom ? `${margin.bottom}px` : ``,\n    top: margin?.top ? `${margin.top}px` : ``,\n    left: margin?.left ? `${margin.left}px` : ``,\n    right: margin?.right ? `${margin.right}px` : ``,\n  };\n\n  useEffect(() => {\n    (async () => {\n      await openToast();\n      setTimeout(() => {\n        closeToast();\n      }, duration);\n    })();\n  }, [duration]);\n\n  async function openToast() {\n    await Promise.resolve();\n    setMounted(true);\n  }\n\n  function closeToast() {\n    setMounted(false);\n    setTimeout(() => {\n      dispatch(hideAll());\n    }, 250);\n  }\n\n  function getTransitionName() {\n    if (mounted) {\n      return 'fadeIn';\n    }\n    return 'fadeOut';\n  }\n\n  return (\n    <li\n      className={`toast-item ${type} ${getTransitionName()}`}\n      style={{\n        marginBottom: margin?.bottom,\n        marginTop: margin?.top,\n        marginLeft: margin?.left,\n        marginRight: margin?.right,\n      }}\n    >\n      <div className=\"toast-item-container\">\n        {/* For simplicity, I'm using a placeholder icon instead of SVG */}\n        <p className=\"toast-body\">{message}</p>\n        {useCloseButton && action === null && (\n          <button\n            onClick={() => {\n              closeToast();\n              // Call hide toast function here\n              // e.g., toastModule.hide(props.data);\n            }}\n          >\n            닫기\n          </button>\n        )}\n        {action !== null && (\n          <button\n            style={{ textDecoration: 'underline' }}\n            onClick={() => {\n              action.action(action.data);\n              closeToast();\n            }}\n          >\n            {action.text}\n          </button>\n        )}\n      </div>\n    </li>\n  );\n};\n\nexport default ToastItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}