{"ast":null,"code":"import _regeneratorRuntime from\"/Users/iseung-won/Desktop/clone/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/iseung-won/Desktop/clone/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/iseung-won/Desktop/clone/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import{CSSTransition,TransitionGroup}from'react-transition-group';import'./Drawer.scss';import{DrawerPosition,DrawerSize}from'../types';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DrawerItem=function DrawerItem(_ref){var payload=_ref.payload;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),mounted=_useState2[0],setMounted=_useState2[1];var background=useRef(null);var styles={backgroundColor:payload===null||payload===void 0?void 0:payload.backgroundColor};useEffect(function(){if(payload.isClose){closeDrawer();}},[payload.isClose]);useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return openDrawer();case 2:case\"end\":return _context.stop();}},_callee);}))();},[]);function openDrawer(){return _openDrawer.apply(this,arguments);}function _openDrawer(){_openDrawer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Promise.resolve();case 2:setMounted(true);case 3:case\"end\":return _context2.stop();}},_callee2);}));return _openDrawer.apply(this,arguments);}function closeDrawer(){return _closeDrawer.apply(this,arguments);}function _closeDrawer(){_closeDrawer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:setMounted(false);setTimeout(function(){var _payload$event;(_payload$event=payload.event)===null||_payload$event===void 0?void 0:_payload$event.onClose();},250);// TODO: Add the equivalent dismiss logic\ncase 2:case\"end\":return _context3.stop();}},_callee3);}));return _closeDrawer.apply(this,arguments);}function onMouseDown(e){if(payload!==null&&payload!==void 0&&payload.canCloseForModal&&e.target===background.current&&e.which===1){closeDrawer();}}function getClassNames(){var classes={};if(payload!==null&&payload!==void 0&&payload.noPadding){classes['no-padding']=true;}if((payload===null||payload===void 0?void 0:payload.position)===DrawerPosition.BOTTOM){classes['position-bottom']=true;}else if((payload===null||payload===void 0?void 0:payload.position)===DrawerPosition.CENTER){classes['position-center']=true;}else if((payload===null||payload===void 0?void 0:payload.position)===DrawerPosition.TOP){classes['position-top']=true;}else if((payload===null||payload===void 0?void 0:payload.position)===DrawerPosition.BOTTOM_NO_PADDING){classes['position-bottom-no-padding']=true;}if((payload===null||payload===void 0?void 0:payload.size)===DrawerSize.FULL){classes['full']=true;}if((payload===null||payload===void 0?void 0:payload.useModal)===true){classes['modal']=true;}var setClass=Object.keys(classes).map(function(key){return classes[key]&&key;}).join(' ');return setClass;}function getTransitionName(){if((payload===null||payload===void 0?void 0:payload.position)===DrawerPosition.CENTER){if(mounted){if((payload===null||payload===void 0?void 0:payload.transitionName)==='up'){return'up-center';}else if((payload===null||payload===void 0?void 0:payload.transitionName)==='down'){return'down-center-in';}return'fadeIn-center';}if((payload===null||payload===void 0?void 0:payload.transitionName)==='up'){return'down-center';}else if((payload===null||payload===void 0?void 0:payload.transitionName)==='down'){return'down-center-out';}return'fadeOut-center';}if((payload===null||payload===void 0?void 0:payload.position)===DrawerPosition.TOP){if(mounted){return'down-top';}return'up-top';}if(mounted){return'up';}return'down';}return/*#__PURE__*/_jsx(TransitionGroup,{className:\"transition-group\",children:/*#__PURE__*/_jsx(CSSTransition,{in:mounted,timeout:250,classNames:getTransitionName(),children:/*#__PURE__*/_jsx(\"li\",{className:\"\".concat(getTransitionName(),\" \").concat(getClassNames(),\" drawer-item\"),ref:background,onMouseDown:onMouseDown,onTouchStart:onMouseDown,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:styles,onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsx(payload.component,{}),payload.useCloseButton&&/*#__PURE__*/_jsx(\"div\",{className:\"drawer-backward-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"drawer-backward-header__container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"drawer-backward-header__button\",children:/*#__PURE__*/_jsx(\"p\",{onClick:closeDrawer,children:\"\\uB2EB\\uAE30\"})})})})]})})})});};export default DrawerItem;","map":{"version":3,"names":["React","useState","useEffect","useRef","CSSTransition","TransitionGroup","DrawerPosition","DrawerSize","jsx","_jsx","jsxs","_jsxs","DrawerItem","_ref","payload","_useState","_useState2","_slicedToArray","mounted","setMounted","background","styles","backgroundColor","isClose","closeDrawer","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","openDrawer","stop","_openDrawer","apply","arguments","_callee2","_callee2$","_context2","Promise","resolve","_closeDrawer","_callee3","_callee3$","_context3","setTimeout","_payload$event","event","onClose","onMouseDown","e","canCloseForModal","target","current","which","getClassNames","classes","noPadding","position","BOTTOM","CENTER","TOP","BOTTOM_NO_PADDING","size","FULL","useModal","setClass","Object","keys","map","key","join","getTransitionName","transitionName","className","children","in","timeout","classNames","concat","ref","onTouchStart","style","onClick","stopPropagation","component","useCloseButton"],"sources":["/Users/iseung-won/Desktop/clone/frontend/src/components/modules/drawer/components/DrawerItem.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport './Drawer.scss';\nimport { DrawerPosition, DrawerSize } from '../types';\nimport { useAppDispatch } from '../../../../modules/redux/store';\nimport { dismissAll } from '../DrawerAction';\n\nconst DrawerItem = ({ payload }: any) => {\n  const [mounted, setMounted] = useState(false);\n  const background = useRef(null);\n\n  const styles = { backgroundColor: payload?.backgroundColor };\n\n  useEffect(() => {\n    if (payload.isClose) {\n      closeDrawer();\n    }\n  }, [payload.isClose]);\n\n  useEffect(() => {\n    (async () => {\n      await openDrawer();\n    })();\n  }, []);\n\n  async function openDrawer() {\n    await Promise.resolve();\n    setMounted(true);\n  }\n\n  async function closeDrawer() {\n    setMounted(false);\n    setTimeout(() => {\n      payload.event?.onClose();\n    }, 250);\n\n    // TODO: Add the equivalent dismiss logic\n  }\n\n  function onMouseDown(e: any) {\n    if (payload?.canCloseForModal && e.target === background.current && e.which === 1) {\n      closeDrawer();\n    }\n  }\n\n  function getClassNames() {\n    const classes: any = {};\n\n    if (payload?.noPadding) {\n      classes['no-padding'] = true;\n    }\n\n    if (payload?.position === DrawerPosition.BOTTOM) {\n      classes['position-bottom'] = true;\n    } else if (payload?.position === DrawerPosition.CENTER) {\n      classes['position-center'] = true;\n    } else if (payload?.position === DrawerPosition.TOP) {\n      classes['position-top'] = true;\n    } else if (payload?.position === DrawerPosition.BOTTOM_NO_PADDING) {\n      classes['position-bottom-no-padding'] = true;\n    }\n\n    if (payload?.size === DrawerSize.FULL) {\n      classes['full'] = true;\n    }\n\n    if (payload?.useModal === true) {\n      classes['modal'] = true;\n    }\n    const setClass = Object.keys(classes)\n      .map((key) => classes[key] && key)\n      .join(' ');\n    return setClass;\n  }\n\n  function getTransitionName() {\n    if (payload?.position === DrawerPosition.CENTER) {\n      if (mounted) {\n        if (payload?.transitionName === 'up') {\n          return 'up-center';\n        } else if (payload?.transitionName === 'down') {\n          return 'down-center-in';\n        }\n        return 'fadeIn-center';\n      }\n      if (payload?.transitionName === 'up') {\n        return 'down-center';\n      } else if (payload?.transitionName === 'down') {\n        return 'down-center-out';\n      }\n      return 'fadeOut-center';\n    }\n    if (payload?.position === DrawerPosition.TOP) {\n      if (mounted) {\n        return 'down-top';\n      }\n      return 'up-top';\n    }\n    if (mounted) {\n      return 'up';\n    }\n    return 'down';\n  }\n\n  return (\n    <TransitionGroup className=\"transition-group\">\n      <CSSTransition in={mounted} timeout={250} classNames={getTransitionName()}>\n        <li\n          className={`${getTransitionName()} ${getClassNames()} drawer-item`}\n          ref={background}\n          onMouseDown={onMouseDown}\n          onTouchStart={onMouseDown}\n        >\n          <div className=\"container\" style={styles} onClick={(e) => e.stopPropagation()}>\n            {/* Dynamic component rendering... */}\n            {/* <MainContainer /> */}\n            <payload.component />\n            {payload.useCloseButton && (\n              <div className=\"drawer-backward-header\">\n                <div className=\"drawer-backward-header__container\">\n                  <button className=\"drawer-backward-header__button\">\n                    <p onClick={closeDrawer}>닫기</p>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </li>\n      </CSSTransition>\n    </TransitionGroup>\n  );\n};\n\nDrawerItem.propTypes = {\n  payload: PropTypes.object.isRequired,\n};\n\nexport default DrawerItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}